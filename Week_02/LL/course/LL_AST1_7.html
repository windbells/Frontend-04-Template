<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>使用LL算法构建AST|正则表达式</title>
  </head>
  <body>
    <script>
      var regexp = /([0-9\.]+)|([ \t]+)|([\r\n]+)|(\*)|(\/)|(\+)|(\-)/g;
      var dictionary = [
        'Number',
        'Whitespace',
        'LineTerminator',
        '*',
        '/',
        '+',
        '-',
      ];
      function tokenize(source) {
        let result = null;
        while (true) {
          // exec得到的数组的第 0 个元素是与正则表达式相匹配的文本，第 1 个元素是与 RegExpObject 的第 1 个子表达式相匹配的文本（如果有的话），
          // 第 2 个元素是与 RegExpObject 的第 2 个子表达式相匹配的文本（如果有的话），以此类推。
          result = regexp.exec(source);
          if (!result) {
            break;
          }
          for (let i = 1; i < result.length; i += 1) {
            if (result[i]) {
              console.log(dictionary[i - 1]);
            }
          }
          console.log(result);
        }
      }

      tokenize('1024 + 10 * 25');
    </script>
  </body>
</html>
